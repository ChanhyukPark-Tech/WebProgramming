/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, {useEffect, useRef, useState} from 'react'
import {useGLTF} from '@react-three/drei'
import {useFrame} from "@react-three/fiber";
import {hover, unhover} from "./hoverFunction";
import HoverHtml from "./HoverHtml";

const Model = (props) => {
    const group = useRef()

    const {nodes, materials} = useGLTF(`/NeonKoreanVer.glb?${props.glbHash}`)

    const time = useRef(0);
    const rotationY = Math.PI / 5
    const positionY = 4.5 ;

    useFrame(() => {
        time.current += 0.03;
        group.current.rotation.y = rotationY + Math.sin(time.current) * 0.05
        group.current.position.y = positionY + Math.sin(time.current) * 0.05
    })
    const [hovered, setHover] = useState(false)
    useEffect(() => void (document.body.style.cursor = hovered ? 'pointer' : 'auto'), [hovered])
    return (
        <group ref={group} {...props} dispose={null} position={[-8, 4.5, -1576]} rotation={[0, Math.PI / 5
            , 0]}
               scale={0.8}>
            <mesh
                geometry={nodes.Text001.geometry}
                material={nodes.Text001.material}
                position={[0, 0, 0.52]}
                rotation={[Math.PI / 2, 0, 0]}
                scale={2.55}
                castShadow={false}
            />
            <mesh
                onPointerOver={e => hover(e,setHover)}
                onPointerOut={e => unhover(e,setHover)}
                geometry={nodes.Cube.geometry}
                material={materials['Material.001']}
                position={[0, 0, -0.47]}
                scale={[1.94, 5.93, 1.22]}
                castShadow={false}

            />
            <group position={[-0.77, 4.87, -1.22]} scale={[1.03, 1.03, 0.69]}>
                <mesh geometry={nodes.BezierCurve_1.geometry} material={materials['Material.004']}
                      castShadow={false}
                />
                <mesh geometry={nodes.BezierCurve_2.geometry} material={materials['Material.005']}
                      castShadow={false}
                />
            </group>
            <mesh
                geometry={nodes.Text002.geometry}
                material={nodes.Text002.material}
                position={[0, 0, -1.14]}
                rotation={[Math.PI / 2, 0, Math.PI]}
                scale={2.55}
                castShadow={false}

            />
            {hovered ? <HoverHtml paragraph={'Main Page'}/> : null}

        </group>
    )
}
export default Model
// useGLTF.preload('/NeonKoreanVer.glb')
